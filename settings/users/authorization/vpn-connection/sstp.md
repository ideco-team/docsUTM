---
description: >-
  SSTP (Secure Socket Tunneling Protocol) - протокол безопасного туннелирования
  трафика, основанный на SSL/TLS.Поддерживается ОС Windows начиная с Vista, а
  также роутерами Keenetic и другими.
---

# Подключение по SSTP

{% hint style="info" %}
По возможности не используйте этот тип подключения. Этот способ подключения лучше других проходит через NAT, но при нестабильном качестве связи работает значительно хуже, чем другие VPN (особенно при передаче звука/видео), так как инкапсулирует все данные внутри TCP. Рекомендуется использовать IPsec-IKEv2 вместо SSTP.

NGFW не поддерживает подключение MikroTik по SSTP, так как MikroTik использует устаревший и небезопасный алгоритм SHA-1.
{% endhint %}

## Настройка Ideco NGFW

{% hint style="warning" %}
Запрещено использовать домен `.local`. Подключение по SSTP поддерживается только из внешних сетей.
{% endhint %}

1\. Для включения авторизации по SSTP установите флаг **Подключение SSTP** в веб-интерфейсе в разделе **Пользователи -> VPN-подключения -> Основное**.

2\. Подключение возможно только по DNS-имени, поэтому IP-адрес внешнего интерфейса Ideco NGFW должен резолвиться в одно из имен вашей внешней доменной зоны. В поле **Домен** необходимо указать данное DNS-имя (используйте реальное имя с правильной А-записью, т. к. оно необходимо для выписки сертификата Let’s Encrypt).

3\. **Порт** - выберите предлагаемый порт (из вариантов: 1443, 2443, 3443, 4443):

![](/.gitbook/assets/vpn-authorization5.png)

{% hint style="info" %}
Инструкции по настройке VPN-подключений на разных ОС, доступны по [ссылке](/recipes/popular-recipes/vpn/README.md).
{% endhint %}

{% hint style="warning" %}
Не рекомендуем использовать для VPN-подключений кириллические логины.
{% endhint %}

### Если VPN-соединение установлено, но не получается получить доступ к ресурсам локальной сети

Выполните рекомендации статьи [Особенности маршрутизации и организации доступа](features.md).
