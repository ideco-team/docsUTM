---
description: >-
  Специализированная программа-клиент для управления доступом пользователей в сеть Интернет. Использует протокол Wireguard.
---

# Ideco Client

{% hint style="success" %}
Название службы раздела **Ideco Сlient**: `ideco-agent-backend`; `ideco-agent-websocket`. \
Список служб для других разделов доступен по [ссылке](../server-management/terminal.md).

Использует протокол Wireguard.
{% endhint %}

{% hint style="warning" %}
Установить программу Ideco Client можно только на ОС семейства Windows с 8 версии и новее.
{% endhint %}

Ideco Client управляет авторизацией пользователей при подключении к Ideco NGFW в локальной сети и по VPN из внешних сетей.

{% hint style="info" %}
Программа должна быть установлена на рабочей станции пользователя.

Порты для подключения, если NGFW за NAT:
* 80 TCP - для работы сертификатов let's encrypt;
* 14765 TCP и 3051 UDP  - для работы Ideco Client.

Для корректного подключения активируйте в карточке пользователя опцию **Разрешить удаленный доступ через VPN**.
{% endhint %}

## Установка Ideco Client

* Перейдите в раздел **Пользователи –> Ideco-Client**, переведите опцию **Ideco Client** в положение включен, введите доменное имя в соответствующей строке и нажмите **Сохранить**. Появится кнопка **Скачать Ideco Client**:

![](../../.gitbook/assets/client.gif)

* В личном кабинете пользователя по кнопке **Скачать Ideco VPN-клиент для Windows** или **Скачать Ideco Client** для пользователя Active Directory:

![](../../.gitbook/assets/client1.png)

Сохраните и запустите двойным кликом файл установки программы *IdecoAgent.msi*.

Если требуется заранее установить адрес подключения, запустите файл из командной строки с ключом `utm_address=имя_домена` (перейдите в директорию с файлом `cd [путь до файла]` и вызовите файл с ключом `IdecoAgent.msi utm_address=имя_домена`);

## Настройка профиля для первого запуска

1. После установки запустите Ideco Client. Программа установит связь с сервером и предложит ввести данные. Дальнейший формат ввода логина и хоста зависит от количества доменов, в которые введен NGFW:

<details>
<summary>NGFW введен в один домен:</summary>

Введите **логин** в домене, в качестве **хоста** укажите домен.

![](../../.gitbook/assets/client2.png) ![](../../.gitbook/assets/client3.png)

</details>

<details>
<summary>NGFW введен в несколько доменов:</summary>

Введите **логин** в формате **имя_домена/имя_пользователя**, в качестве **хоста** укажите **IP NGFW**.

![](../../.gitbook/assets/client4.png)

</details>

1. Нажмите **Сохранить**, чтобы создать новый профиль пользователя для авторизации;
2. Для авторизации выберите профиль пользователя из выпадающего списка и нажмите **Авторизоваться**.

## Редактирование профиля

1. Перейдите в раздел **Настройки**, кликнув по ![](../../.gitbook/assets/icon-gear2.png);
2. Выберите профиль для редактирования, нажав ![](../../.gitbook/assets/icon-edit.png), и внесите изменения в поля формы;
3. Сохраните изменения в полях формы, нажав кнопку **Сохранить**.

## Особенности работы Ideco Client

* Опцией автоматического подключения может обладать только один профиль. При активации опции автоподключения другому профилю у предыдущего автоподключение будет отключено.
* Если компьютер уже находится в домене, то Client создаст для текущего пользователя SSO-профиль с включенным автоподключением. В ином случае нужно будет добавить стандартный профиль, воспользовавшись [инструкцией](#nastroika-profilya-dlya-pervogo-zapuska);
* Ошибка с текстом **Неизвестная ошибка** возникает при попытке повторной авторизации уже авторизованного по IP пользователя.

{% hint style="info" %}
Чтобы исключить взаимодействие пользователя с приложением нужно установить Client на доменный компьютер с ключом хоста NGFW. В этом случае авторизация для пользователей этого компьютера будет происходить через их SSO-профиль по-умолчанию в "бесшумном" режиме автоподключения.
{% endhint %}

При подключении из локальной и внешней сети пользователи появятся в разных разделах:
* При подключении из внешней сети информация о сессии появится в разделах [Авторизованные пользователи](../monitor/authorized-users.md) и [VPN пользователи](../monitor/authorized-users.md/#vpn-polzovateli);
* При подключении из локальной сети информация о сессии появится только в разделе [Авторизованные пользователи](../monitor/authorized-users.md).
