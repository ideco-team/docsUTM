---
description: >-
  Специализированная программа-клиент для управления доступом пользователей в интернет.
---

# Ideco Client

{% hint style="success" %}
Название службы раздела **Ideco Сlient**: `ideco-agent-backend`; `ideco-agent-websocket`. \
Список служб для других разделов доступен по [ссылке](/settings/server-management/terminal.md).

Использует протокол Wireguard.
{% endhint %}

{% hint style="warning" %}
Установить программу Ideco Client можно на ОС семейства Windows с 10 версии и новее, а также на MacOS версии 12.7 и новее.\
На MacOS Ideco Client работает с [некоторыми ограничениями](/settings/users/ideco-client/ideco-client-macos.md).
{% endhint %}

Ideco Client управляет авторизацией пользователей при подключении к Ideco NGFW из локальной сети и по VPN из внешних сетей. При использовании Ideco Client возможны:

* На MacOS:
  * Авторизация только пользователей локальной сети. 
* На ОС семейства Windows: 
  * Авторизация из локальной сети;
  * Подключение по VPN из внешних сетей;
  * Подключение по VPN из локальных сетей.

{% hint style="info" %}
Программа должна быть установлена на рабочей станции пользователя.

Порты для подключения, если NGFW за NAT:

* 80 TCP - для работы сертификатов let's encrypt;
* 14765 TCP и 3051 UDP  - для работы Ideco Client.

Для корректного подключения из внешнней сети создайте в разделе **Пользователи -> VPN-подключения -> Доступ по VPN** правило, разрешающее пользователю VPN-подключение.
{% endhint %}

## Особенности работы Ideco Client

{% hint style="info" %}
Ideco Client поддерживает обработку запросов с редиректом (статус 302) на сервер Ideco NGFW (Подробнее в [RFC-7231](https://datatracker.ietf.org/doc/html/rfc7231)). Это позволяет использовать балансировщик VPN-подключений для распределения нагрузки между несколькими Ideco NGFW.
{% endhint %}

* Опцией автоматического подключения может обладать только один профиль. При активации опции автоподключения другому профилю у предыдущего автоподключение будет отключено.
* Если компьютер уже находится в домене, то Client создаст для текущего пользователя SSO-профиль с включенным автоподключением. В ином случае нужно будет добавить стандартный профиль;
* Ошибка с текстом **Неизвестная ошибка** возникает при попытке повторной авторизации уже авторизованного по IP пользователя.

Ideco Client также позволяет подключать пользователей локальных сетей по VPN. Для создания VPN-туннеля при подключении из локальной сети активируйте настройку **Создавать туннель при подключении из локальной сети** в разделе **Ideco Client**.

При изменении настройки **Создавать туннель при подключении из локальной сети** разрываются все сессии пользователей, подключенных через Ideco Client из локальных сетей. Повторное подключение к NGFW будет соответствовать новому значению настройки.

При подключении пользователей через Ideco Client информация о сессии появится в разделе [Авторизованные пользователи](/settings/monitor/authorized-users.md):

![](/.gitbook/assets/monitor-connections8.png)

При включении опции **Показать только VPN-пользователей** в таблице отобразится только информация о сессиях пользователей, подключившихся через Ideco Client из внешней сети или из локальной сети с созданием туннеля:

![](/.gitbook/assets/monitor-connections7.png)


