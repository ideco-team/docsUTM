# Установка и настройка Ideco Client на Windows

Чтобы скачать файл установки **Ideco Client** для Windows:

* В личном кабинете пользователя нажмите на кнопку **Скачать Ideco Client под ОС Windows**;

* Перейдите в раздел **Пользователи –> Ideco-Client**, переведите опцию **Ideco Client** в положение включен, введите доменное имя в соответствующей строке и нажмите **Сохранить**. Появится кнопка **Скачать Ideco Client под Windows**:

![](/.gitbook/assets/ideco-client6.png)

## Установка

Сохраните и запустите двойным кликом файл установки программы *IdecoAgent.msi*.

Если требуется заранее установить адрес подключения, в командной строке перейдите в директорию с файлом `cd [путь до файла]` и откройте файл с ключом `IdecoAgent.msi utm_address=адрес_ngfw`.

Чтобы оптимизировать процесс установки Ideco Client с помощью GPO, добавьте параметр адреса Ideco NGFW `IdecoAgent.msi UTM_ADDRESS=адрес_ngfw` в установочный файл `IdecoAgent.msi`. Для этого воспользуйтесь утилитой OCRA.

<details>

<summary>Как добавить параметр в OCRA</summary>

1\. Запустите OCRA.

2\. Нажмите **File** -> **Open** и откройте IdecoAgent.msi.

3\. В дереве таблиц найдите **Property**:

![](/.gitbook/assets/ocra.png)

4\. Нажмите **Tables** -> **Add Row**, чтобы добавить новую запись.

5\. В колонку **Property** введите UTM_ADDRESS, а в колонку **Value** IP-адрес или доменное имя Ideco NGFW.

6\. Нажмите **Transform** -> **New Transform**, чтобы сохранить изменения.

7\. Нажмите **File** -> **Save Transformed As** и сохраните файл под новым именем (например, IdecoAgent_Custom.msi).

</details>

В этом случае *msi-файл* будет установлен с уже заполненным полем **Хост**, а авторизация компьютера будет происходить через SSO-профиль по умолчанию в "тихом" режиме автоподключения.

## Настройка профиля для первого запуска

{% hint style="warning" %}
Перед подключением к Ideco NGFW по внешнему IP-адресу или доменному имени без сертификата `Let's encrypt` импортируйте корневой сертификат Ideco NGFW на компьютер.

Для импорта сертификата на компьютер выполните действия:

![](/.gitbook/assets/ideco-client.gif)

<!-- * Дважды кликните на скачанный файл сертификата;
* В открывшемся окне выберите **Установить сертификат**;
* Откроется **Мастер импорта сертификатов. В качестве **Расположения хранилища** выберите **Локальный компьютер**;
* Выберите пункт **Поместить все сертификаты в следующее хранилище**, нажмите **Обзор** и выберите папку **Доверенные корневые центры сертификации**;
* Нажмите **Ок -> Далее -> Готово**.-->

{% endhint %}

После установки запустите Ideco Client. Программа установит связь с сервером и предложит ввести данные.

1\. Задайте имя профиля. Оно может не совпадать с логином и будет использоваться при выборе профиля для авторизации:

![](/.gitbook/assets/ideco-client.png)

2\. Укажите логин и хост в зависимости от количества доменов, в которые введен NGFW:

<details>
<summary>NGFW введен в один домен</summary>

Введите **логин** в домене, в качестве **хоста** укажите домен или IP-адрес.

![](/.gitbook/assets/ideco-client1.png)

</details>

<details>
<summary>NGFW введен в несколько доменов</summary>

Введите **логин** в формате **имя_домена/имя_пользователя**, в качестве **хоста** укажите **IP NGFW**:

![](/.gitbook/assets/ideco-client3.png)

</details>

3\. Нажмите **Сохранить**, чтобы создать новый профиль пользователя для авторизации.

4\. Для авторизации выберите профиль пользователя из выпадающего списка и нажмите **Авторизоваться**:

![](/.gitbook/assets/ideco-client4.png)

## Редактирование профиля

1\. Перейдите в раздел **Настройки**, кликнув по ![](/.gitbook/assets/icon-gear2.png).

2\. Выберите профиль для редактирования, нажав ![](/.gitbook/assets/icon-edit.png), и внесите изменения в поля формы.

3\. Сохраните изменения в полях формы, нажав кнопку **Сохранить**.