---
description: >-
  В статье рассматривается настройка ограничения скорости входящего интернет-трафика для пользователей сети.
---

# Ограничение скорости

{% hint style="success" %}
Название службы раздела *Ограничение скорости*: `ideco-shaper-backend`. \
Список имен служб для других разделов, доступен по [ссылке](/settings/server-management/terminal/README.md).
{% endhint %}

В разделе **Ограничение скорости** создаются правила, позволяющие ограничить скорость входящего интернет-трафика для пользователей сети.

{% hint style="info" %}
Для исключения пользователя или групп пользователей из обработки правил **Ограничения скорости** добавьте соответствующее правило в разделе [Исключения](/settings/access-rules/ips/user-ip-exceptions.md).
{% endhint %}

## Настройка ограничения скорости

1\. Для создания правила в разделе **Правила трафика -> Ограничение скорости** нажмите **Добавить** и заполните поля:

![](/.gitbook/assets/shaper2.png)

<details>

<summary>Расшифровка полей</summary>

* **Название** - введите название правила, например, Ограничение для менеджеров.
* **Применяется для** - выберите из выпадающего списка пользователя, группу и/или IP-адрес.
* **Скорость \(Мбит/с\)** - укажите лимит скорости.
* **Ограничение скорости** - выберите тип ограничения скорости:
  * **Персональное** - скорость будет ограничена для каждого из выбранных пользователей.
  * **Общее** - скорость будет ограничена и разделится между всеми выбранными пользователями.

</details>

2\. Нажмите **Добавить**.

3\. Для применения созданного правила нажмите **Применить** над таблицей:

![](/.gitbook/assets/shaper2.gif)

{% hint style="info" %}
Если не применить правило и покинуть раздел **Ограничение скорости**, то созданное правило сохранится, но не будет действовать. Для применения правила вернитесь в раздел **Ограничение скорости** и нажмите **Применить**.
Не примененные правила будут удалены:

* При перезагрузке сервера.
* При переключении на другую ноду кластера.
{% endhint %}

Включить или выключить правило, изменить его приоритет, редактировать или удалить можно кнопками управления в столбце **Управление**:

![](/.gitbook/assets/shaper1.gif)

При наличии большого количества правил в таблице воспользуйтесь кнопкой **Фильтры**.

## Порядок применения правил

Правила применяются сверху вниз в порядке следования в таблице до первого совпадения. То есть, если пользователь одновременно находится в нескольких группах, то к нему применяется правило, которое находится выше в списке правил.

{% hint style="warning" %}
Правила **Ограничения скорости** не обрабатывают трафик между локальными сетями и сетями филиалов. Пользователи VPN приравниваются к пользователям локальных сетей.
{% endhint %}

## Примеры использования

<details>

<summary>Персональное ограничение</summary>

При выборе персонального ограничения скорости лимит скорости для каждого менеджера будет равен 1 Мбит/с:

![](/.gitbook/assets/shaper.png)

</details>

<details>

<summary>Общее ограничение</summary>

При выборе общего ограничения ширина канала для всей бухгалтерии будет равна 10 Мбит/с:

![](/.gitbook/assets/shaper1.png)

</details>

### Полезные ссылки

* [Исключения](/settings/access-rules/ips/user-ip-exceptions.md)
* [Объекты](/settings/access-rules/aliases.md)
* [Учетные записи](/settings/users/user-tree/README.md)