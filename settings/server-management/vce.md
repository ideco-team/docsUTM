# VCE

VCE - это функция Ideco NGFW, которая позволяет создавать виртуальные серверы на одном корневом NGFW. Это дает возможность разбить одну локальную сеть на несколько независимых подсетей, индивидуально создавать для каждой из этих сетей политики безопасности и объекты, а также разграничивать доступ и независимо управлять дочерними VCE. При этом нет необходимости устанавливать и настраивать для этого отдельные физические серверы. 

Функциональность созданных внутри NGFW виртуальных VCE-серверов почти не отличается от функциональности NGFW. 

{% hint style="warning" %}
Не предоставляйте доступ к VCE сторонним организациям, поскольку полная изоляция VCE не реализована и не предусмотрена. Предоставление доступа сторонним организациям может привести к угрозе безопасности сервера. 
{% endhint %}

**Возможности VCE:**

* [x] Создание виртуальных серверов Ideco NGFW и настройка независимых сетевых интерфейсов. 
* [x] Независимая настройка политик безопасности и прав доступа различным виртуальным NGFW. 
* [x] Запуск и остановка виртуальных серверов с одного корневого NGFW.

**В интерфейсе виртуального сервера недоступно**:

* Создание [кластера](/settings/server-management/cluster.md) и VCE;
* Полное восстановление из бэкапов (быстрое восстановление доступно); 
* Изменение статуса **Разрешить интернет всем**;
* Изменение настроек часового пояса и языка:

![](/.gitbook/assets/vce3.png)

{% hint style="info" %}
В [бэкап](/settings/server-management/backup.md) корневого VCE не входят данные и настройки, которые содержатся в дочерних VCE.

Нельзя добавлять LACP-интерфейсы в VCE.
{% endhint %}

## Создание виртуального сервера

{% hint style="info" %}
Для работы VCE требуется не менее 16 ГБ оперативной памяти.
{% endhint %}

Чтобы создать виртуальный сервер в рамках VCE, перейдите в раздел **Управление сервером -> VCE** и выполните действия:

1\. Нажмите кнопку **Добавить**.

2\. Введите название сервера и нажмите **Сохранить**. Виртуальный сервер появится в таблице:

![](/.gitbook/assets/vce.png)

3\. Перейдите в раздел **Сервисы -> Сетевые интерфейсы** и на вкладке [**VCE-интерфейсы**](/settings/services/connection-to-provider/README.md#vce-интерфейсы) создайте интерфейс для виртуального сервера. Для работы VCE нужна минимум одна сетевая карта, их максимальное количество не ограничено.

{% hint style="info" %}
Переданная VCE сетевая карта будет недоступна для использования корневым NGFW, пока VCE включен.

Если VCE выключен, переданные ему сетевые карты становятся вновь доступны корневому NGFW, их можно использовать для создания нового виртуального сервера. При этом VCE, которому они принадлежали ранее, станет недоступен после включения. 
{% endhint %}

Чтобы отредактировать VCE, нажмите на ![](/.gitbook/assets/icon-edit.png). При редактировании можно менять название виртуального сервера. Редактирование доступно в том числе для работающего VCE.

## Переход в веб-интерфейс виртуального сервера

После создания VCE текущий сервер Ideco NGFW, в котором VCE был создан, будет обозначен как корневой:

![](/.gitbook/assets/vce4.png)

Перейти в веб-интерфейс созданного VCE из веб-интерфейса NGFW можно двумя способами:

1\. Перейдите в **Управление сервером -> VCE** и нажмите на ![](/.gitbook/assets/icon-eye.png):

![](/.gitbook/assets/vce3.gif)

В новой вкладке откроется веб-интерфейс VCE.

2\. Нажмите на ![](/.gitbook/assets/icon-cc.png) в левом верхнем углу и выберите нужный VCE:

![](/.gitbook/assets/vce2.gif)

Также перейти в веб-интерфейс VCE можно из веб-интерфейса Ideco Center. Для этого сначала перейдите из интерфейса Ideco Center в интерфейс корневого NGFW одним из способов, указанных в [статье](/settings-cc/servers.md).

Пример перехода:

![](/.gitbook/assets/vce4.gif)

## Удаление VCE

Удалить VCE можно, нажав на ![](/.gitbook/assets/delete_icon.png) в корневом VCE.
