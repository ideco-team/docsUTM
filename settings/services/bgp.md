---
description: Настройка BGP для обмена информацией о доступности сетей.
---

# BGP

{% hint style="success" %}
Название службы раздела **BGP**: `frr.service`; `ideco-routing-backend`. \
Список служб для других разделов доступен по [ссылке](/settings/server-management/terminal.md).
{% endhint %}

BGP (Border Gateway Protocol) — это основной протокол динамической маршрутизации, который используется в Интернете.

## Настройка своей автономной системы

1\. Введите номер автономной системы в строку **Номер AS** и нажмите **Сохранить**:

![](/.gitbook/assets/bgp.png)

2.Переведите переключатель раздела **BGP** в положение **включен**;

3\. Ideco UTM заполнит поле **Router ID** автоматически, если переключатель раздела BGP в положении включен.

## Настройка BGP соседей

1\. Для добавления BGP соседа нажмите **Добавить** в правом верхнем углу;

2\. Заполните следующие поля:

* **Название** - любое значение;
* **IP-адрес** - IP-адрес BGP соседа;
* **Номер AS** - номер AS BGP соседа;
* **Входящие сети** - фильтр, в котором нужно выбрать сеть, информацию от которых хотите получать. Если выбран объект **Любой**, то фильтрация будет отключена и будут приниматься все сети от BGP соседа. Предустановленный объект фильтров **Маршрут по умолчанию** соответствует фильтру **0.0.0.0/0**;
* **Анонсируемые сети** - фильтр, в котором нужно выбрать сеть, информацию о которой хотите отправлять. Если выбран объект **Любой**, то то фильтрация будет отключена и будет передаваться информация о всех маршрутах известных UTM (redistribute static, connected, ospf ). Предустановленный объект фильтров **Маршрут по умолчанию** соответствует фильтру **0.0.0.0/0**;
* **AS-Path Prepend** - чем больше значение, тем менее приоритетным становится канал;
* **Local Preference** - определяет приоритет пути для выхода трафика. Чем больше значение, тем более приоритетным становится канал;
* **MED** - определяет приоритет пути для входа трафика. Чем меньше значение, тем приоритетнее путь.

![](/.gitbook/assets/bgp1.png)

{% hint style="info" %}
Для **Входящих сетей** и **Анонсируемых сетей** объект **Любой** не может быть установлен одновременно с другими фильтрами.
{% endhint %}

Если нужного объекта для фильтрации нет, то создать его можно выбрав **Создать новый объект** в поле **Входящие сети** или **Анонсируемые сети**:

* **Название** - любое значение;
* **Значение** - значение подсети в формате: _подсеть/маска подсети_, например _192.168.100.0/24_.

![](/.gitbook/assets/bgp2.png)

