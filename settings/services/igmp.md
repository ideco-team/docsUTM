---
description: IGMP Proxy позволяет принимать мультикаст-трафик от провайдера.
---

# IGMP Proxy

{% hint style="success" %}
Название службы раздела **IGMP Proxy**: `igmpproxy`. \
Список служб для других разделов доступен по [ссылке](../server-management/terminal.md).
{% endhint %}

{% hint style="info" %}
IGMP Proxy работает только с Ethernet-адаптерами и не работает на интерфейсах VLAN, PPPoE или VPN (L2TP, PPTP).
{% endhint %}

IGMP Proxy - протокол управления групповой (multicast) передачей данных в сетях, основанных на протоколе IP. Это сокращает объем трафика, что влияет на скорость работы и нагрузки сети. 

## Принцип работы

Со стороны клиентов IGMP Proxy поддерживает версии IGMPv1 и IGMPv2.

Принцип работы на примере подключения двух пользователей к мультикаст-потоку одного источника: 
* *Сервер источника* начинает трансляцию мультикаст-трафика с адреса из 224.0.0.0/4 диапазона. 
* *Пользователь 4* хочет подключиться к трафику и генерирует IGMP-запрос (Join) на *Ideco UTM* для получения мультикаст-трафика от сервера источника. 
* *Ideco UTM* получает IGMP-запрос и отправляет аналогичный запрос к серверу источника;
* Сервер источника получает запрос и начинает транслировать мультикаст-трафик на *Ideco UTM*;
* *Ideco UTM* пропускает трафик с адреса 239.2.2.2 в подсеть с *Пользователем 4* и *Пользователь 4* становится его получателем. \
![](../../.gitbook/assets/igmp.png)
* *Пользователь 3*, находящийся в другой подсети, также решает подключиться к этой трансляции и генерирует IGMP-запрос (Join) на Ideco UTM;
* *Ideco UTM* получает этот запрос и транслирует *Пользователю 3* уже поступающий трафик; \
![](../../.gitbook/assets/igmp1.png)

Ideco UTM переодически проверяет, есть ли получатели, отправляя пользователям IGMP-запрос (Query). Пользователи в ответ отправляют Join, как при подключении. \
Если на Ideco UTM приходит хотя бы один Join, то мультикаст-трафик продолжает транслироваться получателям.

## Настройка в Ideco UTM

Для настройки перейдите в раздел **Сервисы -> IGMP Proxy**. Переведите раздел **IGMP Proxy** в положение **Включен**. В строке **Подключение к провайдеру** выберите Ethernet-подключение.

![](../../.gitbook/assets/igmp2.png)